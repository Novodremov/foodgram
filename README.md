# Проект "Фудграм"
Проект «Фудграм» —  сайт, на котором пользователи могут публиковать свои рецепты, добавлять чужие рецепты в избранное и подписываться на публикации других авторов. Зарегистрированным пользователям доступен сервис «Список покупок», позволяющий создавать список продуктов, которые нужно купить для приготовления выбранных блюд. 

## Использованные технологии:
Бэкенд проекта написан на Python, с использованием фреймворка Django;
Фронтэнд на JavaScript с использованием React.


<!-- Проект можно посмотреть по адресу: https:// -->

## Уровни доступа пользователей:  

### Возможности неавторизованных пользователей:
- Просмотр рецептов на главной странице
- Просмотр отдельных страниц рецептов
- Просмотр страниц пользователей
- Создание аккаунта

### Возможности авторизованных пользователей:
- Вход в систему под своим логином и паролем
- Выход из системы
- Создание, редактирование и удаление собственных рецептов
- Просмотр страниц пользователей
- Просмотр отдельных страниц рецептов
- Просмотр рецептов на главной странице
- Фильтрация рецептов по тегам
- Работа с персональным списком покупок: добавление и удаление любых рецептов, выгрузка файла с количеством необходимых ингредиентов для рецептов из списка покупок
- Работа с персональным списком избранного: добавление в него рецептов или их удаление, просмотр своей страницы избранных рецептов
- Подписка на публикации авторов рецептов и отмена подписки, просмотр своей страницы подписок

### Возможности администратора:
- Все права авторизованного пользователя
- Изменение пароля любого пользователя
- Создание, блокировка и удаление аккаунтов пользователей
- Редактирование и удаление любых рецептов
- Добавление, удаление и редактирование ингредиентов
- Добавление, удаление и редактирование тегов

## Локальный запуск проекта

- Клонируйте репозиторий и перейдите в него в командной строке:
```
git clone git@github.com:Novodremov/foodgram.git
cd Foodgram
```

- Установите и активируйте виртуальное окружение:

```
python -m venv venv
```

- Для Linux/macOS:

    ```
    source venv/bin/activate
    ```

- Для Windows:

    ```
    source venv/Scripts/activate
    ```

- Установите зависимости из файла requirements.txt:

```
python -m pip install --upgrade pip
pip install -r requirements.txt
```

- Создайте файл .env в папке проекта, пример представлен в файле ./infra/.env.example  


- Перейдите в папку с файлом manage.py


- Примените миграции:
```
python manage.py makemigrations
python manage.py migrate
```

- Соберите статику:
```
python manage.py collectstatic
```

- Создайте суперпользователя:
```
python manage.py createsuperuser
```

- Заполните базу данных (загрузите фикстуры) командой:
```
python manage.py loaddata ../data/foodgram_ingredients_tags_fixture.json 
```

- Запустите проект:
```
python manage.py runserver
```

- Документацию можно посмотреть по адресу:
```
http://127.0.0.1:8000/api/docs/
```

<!-- ## Запуск проекта в контейнерах:

- Установите docker и docker-compose


- Создайте директорию foodgram/infra


- Создайте в этой директории файл .env, пример представлен в файле ./infra/.env.example  


- Скопируйте файл проекта docker-compose.production.yml в директорию foodgram/infra и разверните контейнеры командой:
```
sudo docker compose -f docker-compose.production.yml up -d --build
```

- Выполните миграции:
```
sudo docker compose -f docker-compose.production.yml exec backend python manage.py migrate
```

- Заполните базу данных командой:
```
sudo docker compose -f docker-compose.production.yml exec backend python manage.py importcsv
```

- Соберите статику:
```
sudo docker compose -f docker-compose.production.yml exec backend python manage.py collectstatic
```

- Создайте суперпользователя:
```
sudo docker compose -f docker-compose.production.yml exec backend python manage.py createsuperuser
```


- Для остановки проекта выполните команду:
```
sudo docker compose -f docker-compose.production.yml down
``` -->

## Список эндпоинтов API:

- /api/users/ - получение списка пользователей/регистрация нового пользователя
- /api/users/{id}/ - профиль пользователя
- /api/users/me/ - текущий пользователь
- /api/users/me/avatar/ - добавление/удаление аватара
- /api/users/set_password/ - изменение пароля текущего пользователя
- /api/auth/token/login/ - получение токена авторизации
- /api/auth/token/logout/ - удаление токена авторизации
- /api/tags/ - получение списка тегов
- /api/tags/{id}/ - получение тега
- /api/recipes/ - получение списка рецептов/создание нового рецепта
- /api/recipes/{id}/ - получение/обновление/удаление рецепта
- /api/recipes/{id}/get-link/ - получение короткой ссылки на рецепт
- /api/recipes/download_shopping_cart/ - скачать список покупок
- /api/recipes/{id}/shopping_cart/ - добавление рецепта в список покупок/удаление рецепта из списка покупок
- /api/recipes/{id}/favorite/ - добавление рецепта в избранное/удаление рецепта из избранного
- /api/users/subscriptions/ - получение списка подписок текущего пользователя
- /api/users/{id}/subscribe/ - подписаться на пользователя/отписаться от пользователя
- /api/ingredients/ - получение списка ингредиентов
- /api/ingredients/{id}/ - получение ингредиента

### Автор:  
*Лысов Алексей*
